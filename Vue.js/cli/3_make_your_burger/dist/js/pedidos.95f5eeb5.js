"use strict";(self["webpackChunk_3_make_your_burger"]=self["webpackChunk_3_make_your_burger"]||[]).push([[550],{5433:function(e,t,s){s.r(t),s.d(t,{default:function(){return z}});var a=s(3396);const i={class:"main-container"},n=(0,a._)("h1",null,"Gerencia pedidos:",-1);function o(e,t,s,o,l,u){const d=(0,a.up)("Dashboard");return(0,a.wg)(),(0,a.iD)("div",i,[n,(0,a.Wm)(d)])}var l=s(9242),u=s(7139);const d=e=>((0,a.dD)("data-v-310db44b"),e=e(),(0,a.Cn)(),e),r={id:"burger-table"},c=d((()=>(0,a._)("div",null,[(0,a._)("div",{id:"burger-table-heading"},[(0,a._)("div",{class:"order-id"}),(0,a._)("div",null,"Cliente:"),(0,a._)("div",null,"Pão:"),(0,a._)("div",null,"Carne:"),(0,a._)("div",null,"Opcionais:"),(0,a._)("div",null,"Ações:")])],-1))),g={id:"burger-table-rows"},h={class:"order-number"},_=["onChange"],b=d((()=>(0,a._)("option",{value:""},"Selecione",-1))),v=["value","selected"],m=["onClick"];function p(e,t,s,i,n,o){const d=(0,a.up)("Message");return(0,a.wg)(),(0,a.iD)("div",r,[(0,a.wy)((0,a.Wm)(d,{msg:n.msg},null,8,["msg"]),[[l.F8,n.msg]]),c,(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.burgers,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"burger-table-row",key:e.id},[(0,a._)("div",h,(0,u.zw)(e.id),1),(0,a._)("div",null,(0,u.zw)(e.nome),1),(0,a._)("div",null,(0,u.zw)(e.pao),1),(0,a._)("div",null,(0,u.zw)(e.carne),1),(0,a._)("div",null,[(0,a._)("ul",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.opcionais,((e,t)=>((0,a.wg)(),(0,a.iD)("li",{key:t},(0,u.zw)(e),1)))),128))])]),(0,a._)("div",null,[(0,a._)("select",{name:"status",id:"status",onChange:t=>o.updatedBurger(t,e.id)},[b,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.status,(t=>((0,a.wg)(),(0,a.iD)("option",{key:t.id,value:t.tipo,selected:e.status==t.tipo},(0,u.zw)(t.tipo),9,v)))),128))],40,_),(0,a._)("button",{class:"delete-btn",onClick:t=>o.deleteBurger(e.id)},"Cancelar",8,m)])])))),128))])])}var w=s(4389),f={name:"Pedidos",data(){return{burgers:null,burger_id:null,status:[],msg:null}},components:{Message:w.Z},methods:{async getPedidos(){const e=await fetch("http://localhost:3000/burgers"),t=await e.json();this.burgers=t,console.log(this.burgers),this.getStatus()},async getStatus(){const e=await fetch("http://localhost:3000/status"),t=await e.json();this.status=t,console.log(t)},async deleteBurger(e){const t=await fetch(`http://localhost:3000/burgers/${e}`,{method:"DELETE"});await t.json();this.msg="Pedido removido com sucesso!",setTimeout((()=>this.msg=""),1e4),this.getPedidos()},async updatedBurger(e,t){const s=e.target.value,a=JSON.stringify({status:s}),i=await fetch(`http://localhost:3000/burgers/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:a}),n=await i.json();this.msg=`O pedido Nº ${n.id} foi atualizado para ${n.status}!`,setTimeout((()=>this.msg=""),1e4),console.log(n)}},mounted(){this.getPedidos()}},y=s(89);const C=(0,y.Z)(f,[["render",p],["__scopeId","data-v-310db44b"]]);var D=C,k={name:"Pedidos",components:{Dashboard:D}};const P=(0,y.Z)(k,[["render",o]]);var z=P}}]);
//# sourceMappingURL=pedidos.95f5eeb5.js.map